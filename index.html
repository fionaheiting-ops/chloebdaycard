<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chloe Á∂†Ëå∂Â∞èÂßê</title>

  <style>
    :root{
      --bg1:#f3fbff;
      --bg2:#eaf7ff;
      --blue1:#d8f0ff;
      --blue2:#bfe6ff;
      --blue3:#9fd8ff;
      --ink:#1b2b3a;
      --shadow: rgba(9,45,82,.18);
      --paper:#ffffff;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:
        radial-gradient(1200px 700px at 20% 10%, #fff 0%, var(--bg1) 40%, var(--bg2) 100%);
      font-family: ui-rounded, system-ui, -apple-system, "PingFang HK", "Noto Sans HK";
      overflow:hidden;
    }

    .scene{
      width:560px;
      max-width:92vw;
      height:390px;
      display:grid;
      place-items:center;
      position:relative;
    }

    .envelope{
      width:340px;
      height:220px;
      position:relative;
      cursor:pointer;
      filter: drop-shadow(0 16px 22px var(--shadow));
    }

    .env-back{
      position:absolute;
      inset:0;
      border-radius:18px;
      background:linear-gradient(180deg,var(--blue1),var(--blue2));
    }

    .flap{
      position:absolute;
      top:0; left:0; right:0;
      height:60%;
      transform-origin:top;
      transition:.55s;
      z-index:4;
    }
    .flap::before{
      content:"";
      margin:auto;
      display:block;
      width:0;height:0;
      border-left:170px solid transparent;
      border-right:170px solid transparent;
      border-top:132px solid var(--blue3);
    }

    .front::before,.front::after{
      content:"";
      position:absolute;
      bottom:0;
      width:0;height:0;
      border-top:110px solid transparent;
      border-bottom:110px solid transparent;
    }
    .front::before{ left:0; border-right:175px solid rgba(255,255,255,.35); }
    .front::after{ right:0; border-left:175px solid rgba(255,255,255,.2); }

    .front-mid{
      position:absolute;
      bottom:-2px; left:0; right:0;
      margin:auto;
      width:0;height:0;
      border-left:170px solid transparent;
      border-right:170px solid transparent;
      border-bottom:124px solid rgba(255,255,255,.55);
    }

    .letter{
      position:absolute;
      left:50%;
      bottom:18px;
      transform:translateX(-50%) translateY(92px);
      width:320px;
      height:250px;
      background:#fff;
      border-radius:14px;
      border:1px solid rgba(159,216,255,.4);
      box-shadow:0 14px 20px rgba(9,45,82,.15);
      opacity:0;
      transition:.75s;
      overflow:hidden;
      z-index:2;
    }

    .letter-inner{
      position:absolute;
      inset:14px;
      display:flex;
      flex-direction:column;
      gap:8px;
      height:calc(100% - 28px);
    }

    .closeRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .closeBtn{
      border:none;
      padding:6px 12px;
      border-radius:999px;
      background:rgba(159,216,255,.35);
      font-weight:700;
      cursor:pointer;
    }

    .message{
      flex:1;
      overflow:auto;
      white-space:pre-wrap;
      line-height:1.5;
      font-size:14px;
    }

    .sig{ text-align:right; opacity:.75; }

    .opened .flap{ transform:rotateX(170deg); }
    .opened .letter{
      transform:translateX(-50%) translateY(-18px);
      opacity:1;
    }

    .expanded .letter{
      position:fixed;
      left:50%; top:50%;
      transform:translate(-50%,-50%);
      width:min(760px,92vw);
      height:min(74vh,600px);
      z-index:9;
    }

    canvas{
      position:fixed;
      inset:0;
      pointer-events:none;
    }
  </style>
</head>

<body>
<canvas id="confetti"></canvas>

<div class="scene">
  <div class="envelope" id="envelope">
    <div class="letter" id="letter">
      <div class="letter-inner">
        <div class="closeRow">
          <strong>Chloe Á∂†Ëå∂Â∞èÂßê üíô</strong>
          <button class="closeBtn" id="closeBtn">Êî∂Âüã</button>
        </div>
        <div class="message" id="msg"></div>
        <div class="sig">‚Äî Fiona</div>
      </div>
    </div>

    <div class="env-back"></div>
    <div class="flap"></div>
    <div class="front"></div>
    <div class="front-mid"></div>
  </div>
</div>

<script>
const msg = `Á•ù‰Ω†17Ê≠≤12ÂÄãÊúàÈõ∂‰∏ÄÊó•ÁîüÊó•Âø´Ê®Çah~ ‰∏çÁü•‰∏çË¶∫Â∞±‰øÇÊàëÂìã‰∏≠Â≠∏ÊúÄÂæå‰∏ÄÂπ¥ÔºàË∑ü‰ΩèÊàëÂ∞±ÂèØ‰ª•ËøîÂöüÊêµ‰Ω†Áé©üòà) ÈõñÁÑ∂ÊàëÊàêÊó•Ë¶∫ÂæóÊàëÂÜáÂñ∫È¶ôÊ∏ØÂêå‰Ω†‰∏ÄÈΩäËÆÄÊõ∏Â•ΩÈÅ∫ÊÜæ üò≠Ôºåbut even my canada life so trash leÊØèÊ¨°ÈñãÊâãÊ©üÁôºÁèæ‰Ω†ÊúÉÊêµÊàëÈÉΩË¶∫ÂæóÂ•ΩÂÆâÂøÉ‰∫¶ÈÉΩÂ•ΩÈñãÂøÉÊàëÊúâ‰∏ÄÂÄãÂíÅÂ•ΩÂòÖÊúãÂèã(yep thats u ms green teaÔºåÊàëÂë¢Â∫¶Âï≤ÊúãÂèãÈÉΩÁü•ÊàëÊúâbestfrd Âè´chloe yu gaüòé) btw Â•ΩÂΩ©Áï∂ÊôÇÂÜá‰∫∫ÂêåÊàëÁà≠ Âîî‰øÇÊàëÈÉΩË≠òÂîîÂà∞‰Ω†üòè ÔºàÁîüÊó•Â∞±‰øÇË¶ÅË¨õËÇâÈ∫ªÂò¢üëçthis is limited edition Âä†ÊãøÂ§ß‰ª≤Êú™Â∞áÊàëË®ìÁ∑¥Âà∞ÂèØ‰ª•Èù¢Â∞çÈù¢Ë¨õüôÇÔºâ ÈõñÁÑ∂ÊàëÁúü‰øÇÂÜáËæ¶Ê≥ïÂè´‰Ω†ÂîîÂ•ΩÁ∑äÂºµdseÊèõÁùÄÊàëÈÉΩÂÅöÂîîÂà∞ÔºåbutÊàëÈÉΩÊÉ≥Âêå‰Ω†Ë¨õÁï∂ÂàùÂÖ∂ÂØ¶Êàë‰øÇË¶ãÂà∞‰Ω†ÂíÅÂä™ÂäõÔºåÊàëÂÖàÈñãÂßãÊúâÂøÉÊ©üËÆÄËøîÊõ∏Ôºàrlly ÁúüÂøÉ„óéÔºâÊàëËÄåÂÆ∂Â•ΩÂΩ©ÊãéÂà∞offerÊâÄ‰ª•ÊàëË¶∫Âæó‰Ω†‰∏ÄÂÆöÂæóhehe ÔΩûÈ¶ôÊ∏ØÂï≤Â§ßÂ≠∏ÂíÅÈõ£ËÄÉ‰Ω†Áé©gameÂó∞Âï≤ÈÅãÊ∞£ÂÄüjor d‰øæÂÄãÂ∫¶jeh-‰Ω†ÈÅãÊ∞£ÂîîÂ∑Æ„óéÔºàË≠òÂà∞ÊàëÂë¢Ê¢ùÁæéÈ∫óÂòÖËòøËîîsryËá™ÊàÄ‰∏≠Ôºâ ÂíÅÊúÄÂæåËÄÅÂúüÂï≤ Â∏åÊúõ‰Ω†‰ªäÂπ¥Ë∂äÂöüË∂äÈ†ÜÂà©+ÂèØ‰ª•ÂÅöÂà∞Âï≤ÊÉ≥ÂÅö‰ΩÜ‰øÇÂîîÊï¢ÂÅöÂòÖÂò¢ÔºàÊú¨‰∫∫Áî≥Ë´ã‰∏ÄÈΩäÂÅöÔºâand‰ªäÂπ¥Êú™ÂØÑÂà∞Âò¢Â∞±Á≠âÊàëÈÅ≤Âï≤ËøîÂöü‰∏ÄÊ¨°ÈÅé‰øæ‰Ω†ü§≠AlsoÁ∂†Ëå∂Â∞èÂßêËÄÅlu~ËøîÈ¶ôÊ∏ØË®ò‰ΩèÊπäÊàëÂë¢ÂÄãÂä†ÊãøÂ§ßËá™ÈñâËòøËîîÂë®ÂúçÁé©‚ú® ÔºàË´ãÁõ°Âäõsurvive dseÔºâ`;
document.getElementById("msg").textContent = msg;

const envelope = document.getElementById("envelope");
const closeBtn = document.getElementById("closeBtn");
let state = 0;

envelope.onclick = () => {
  if(state===0){ envelope.classList.add("opened"); state=1; }
  else if(state===1){ document.body.classList.add("expanded"); state=2; rain(); }
  else rain();
};

closeBtn.onclick = e => {
  e.stopPropagation();
  document.body.classList.remove("expanded");
  envelope.classList.remove("opened");
  state = 0;
};

// leebit rain
const img = new Image();
img.src="88db9284018bfc8880b7fea16cbaa537.jpg";
const c=document.getElementById("confetti"),x=c.getContext("2d");
function rain(){
  c.width=innerWidth;c.height=innerHeight;
  let p=[];
  for(let i=0;i<120;i++)p.push({x:Math.random()*c.width,y:-20,s:20+Math.random()*25,v:2+Math.random()*3});
  (function a(){
    x.clearRect(0,0,c.width,c.height);
    p.forEach(o=>{o.y+=o.v;x.drawImage(img,o.x,o.y,o.s,o.s);});
    p=p.filter(o=>o.y<c.height+40);
    if(p.length)requestAnimationFrame(a);
  })();
}
</script>
</body>
</html>
